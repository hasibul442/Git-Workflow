# ржЕржЯрзЛ ржкрж┐ржЖрж░ рж╕рж╛ржорж╛рж░рж┐ ржЧрж┐ржЯрж╣рж╛ржм ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ

ржПржЗ ржЧрж┐ржЯрж╣рж╛ржм ржЕрзНржпрж╛ржХрж╢ржирж╕ ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржкрзБрж▓ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯрзЗрж░ ржЯрж╛ржЗржЯрзЗрж▓ ржПржмржВ ржмрж░рзНржгржирж╛ ржХржорж┐ржЯ ржорзЗрж╕рзЗржЬрзЗрж░ рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк ржжрж┐ржпрж╝рзЗ ржЖржкржбрзЗржЯ ржХрж░рзЗ ржпржЦржиржЗ ржПржХржЯрж┐ ржкрж┐ржЖрж░ ржЦрзЛрж▓рж╛ рж╣ржпрж╝ ржмрж╛ ржЖржкржбрзЗржЯ рж╣ржпрж╝ред

## ЁЯЪА ржмрзИрж╢рж┐рж╖рзНржЯрзНржпрж╕ржорзВрж╣

- **рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ ржкрж┐ржЖрж░ ржЯрж╛ржЗржЯрзЗрж▓ ржЖржкржбрзЗржЯ**: рж╕рж░рзНржмрж╢рзЗрж╖ ржХржорж┐ржЯ ржорзЗрж╕рзЗржЬ ржжрж┐ржпрж╝рзЗ ржкрж┐ржЖрж░ ржЯрж╛ржЗржЯрзЗрж▓ рж╕рзЗржЯ ржХрж░рзЗ
- **ржХржорж┐ржЯ рж╕рж╛ржорж╛рж░рж┐ рждрзИрж░рж┐**: ржкрж┐ржЖрж░ ржмрж░рзНржгржирж╛ржпрж╝ рж╕ржХрж▓ ржХржорж┐ржЯ ржорзЗрж╕рзЗржЬрзЗрж░ ржПржХржЯрж┐ ржлрж░ржорзНржпрж╛ржЯрзЗржб рждрж╛рж▓рж┐ржХрж╛ рждрзИрж░рж┐ ржХрж░рзЗ
- **рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржЖржкржбрзЗржЯ**: ржкрж┐ржЖрж░ рждрзИрж░рж┐ ржПржмржВ ржирждрзБржи ржХржорж┐ржЯ ржкрзБрж╢ ржХрж░рж╛рж░ рж╕ржоржпрж╝ ржЯрзНрж░рж┐ржЧрж╛рж░ рж╣ржпрж╝
- **ржХрзЛржи ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржкрзНрж░ржпрж╝рзЛржЬржи ржирзЗржЗ**: ржЕрждрж┐рж░рж┐ржХрзНржд рж╕рзЗржЯржЖржк ржЫрж╛ржбрж╝рж╛ржЗ ржХрж╛ржЬ ржХрж░рзЗ

## ЁЯУЛ ржПржЯрж┐ ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ

1. **ржЯрзНрж░рж┐ржЧрж╛рж░ ржЗржнрзЗржирзНржЯ**: ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ рж╕ржХрзНрж░рж┐ржпрж╝ рж╣ржпрж╝ ржпржЦржи:
   - ржПржХржЯрж┐ ржирждрзБржи ржкрзБрж▓ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржЦрзЛрж▓рж╛ рж╣ржпрж╝
   - ржмрж┐ржжрзНржпржорж╛ржи ржкрж┐ржЖрж░рждрзЗ ржирждрзБржи ржХржорж┐ржЯ ржкрзБрж╢ ржХрж░рж╛ рж╣ржпрж╝ (synchronize event)

2. **ржХржорж┐ржЯ рж╕ржВржЧрзНрж░рж╣**: ржкрзБрж▓ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯрзЗрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзБржХрзНржд рж╕ржХрж▓ ржХржорж┐ржЯ ржирж┐ржпрж╝рзЗ ржЖрж╕рзЗ

3. **ржХржирзНржЯрзЗржирзНржЯ рждрзИрж░рж┐**:
   - ржкрзНрж░рждрж┐ржЯрж┐ ржХржорж┐ржЯ ржорзЗрж╕рзЗржЬрзЗрж░ ржкрзНрж░ржержо рж▓рж╛ржЗржи ржмрзЗрж░ ржХрж░рзЗ
   - рж╕рзЗржЧрзБрж▓рзЛржХрзЗ ржмрзБрж▓рзЗржЯрзЗржб рждрж╛рж▓рж┐ржХрж╛ рж╣рж┐рж╕рзЗржмрзЗ ржлрж░ржорзНржпрж╛ржЯ ржХрж░рзЗ
   - рж╕рж░рзНржмрж╢рзЗрж╖ ржХржорж┐ржЯ ржорзЗрж╕рзЗржЬржХрзЗ ржкрж┐ржЖрж░ ржЯрж╛ржЗржЯрзЗрж▓ рж╣рж┐рж╕рзЗржмрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ

4. **ржкрж┐ржЖрж░ ржЖржкржбрзЗржЯ**: рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржкрзБрж▓ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржЖржкржбрзЗржЯ ржХрж░рзЗ:
   - рж╕ржмржЪрзЗржпрж╝рзЗ рж╕рж╛ржорзНржкрзНрж░рждрж┐ржХ ржХржорж┐ржЯ ржерзЗржХрзЗ ржирждрзБржи ржЯрж╛ржЗржЯрзЗрж▓
   - рж╕ржХрж▓ ржХржорж┐ржЯ рж╕рж╛ржорж╛рж░рж┐ рж╕рж╣ ржмрж░рзНржгржирж╛

## ЁЯЫая╕П ржЗржирж╕рзНржЯрж▓рзЗрж╢ржи

1. ржЖржкржирж╛рж░ рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐рждрзЗ ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ ржбрж┐рж░рзЗржХрзНржЯрж░рж┐ рждрзИрж░рж┐ ржХрж░рзБржи:
   ```
   .github/workflows/
   ```

2. `pr-auto-summary.yml` ржлрж╛ржЗрж▓ ржХржкрж┐ ржХрж░рзБржи ржПржЦрж╛ржирзЗ:
   ```
   .github/workflows/pr-auto-summary.yml
   ```

3. ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ ржлрж╛ржЗрж▓ ржХржорж┐ржЯ ржПржмржВ ржкрзБрж╢ ржХрж░рзБржи ржЖржкржирж╛рж░ рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐рждрзЗ

## ЁЯУБ ржлрж╛ржЗрж▓ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░

```
.github/
тФФтФАтФА workflows/
    тФФтФАтФА pr-auto-summary.yml
```

## тЪЩя╕П ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи

ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ:

### ржЯрзНрж░рж┐ржЧрж╛рж░ ржЗржнрзЗржирзНржЯ
```yaml
on:
  pull_request:
    types: [opened, synchronize]
```

### ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржЕржирзБржорждрж┐
- ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ `actions/github-script@v7` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржпрж╛рж░ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржЖржЫрзЗ:
  - рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐ ржХржирзНржЯрзЗржирзНржЯ ржкржбрж╝рж╛рж░
  - ржкрзБрж▓ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржЖржкржбрзЗржЯ ржХрж░рж╛рж░
  - ржХржорж┐ржЯ рждржерзНржп ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛рж░

## ЁЯФз ржХрж╛рж╕рзНржЯржорж╛ржЗржЬрзЗрж╢ржи ржЕржкрж╢ржи

### ржкрж┐ржЖрж░ ржЯрж╛ржЗржЯрзЗрж▓ рж▓ржЬрж┐ржХ ржкрж░рж┐ржмрж░рзНрждржи
ржкрж┐ржЖрж░ ржЯрж╛ржЗржЯрзЗрж▓ ржХрзАржнрж╛ржмрзЗ рждрзИрж░рж┐ рж╣ржмрзЗ рждрж╛ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ, рзирзп ржиржорзНржмрж░ рж▓рж╛ржЗржи ржПржбрж┐ржЯ ржХрж░рзБржи:
```javascript
// ржмрж░рзНрждржорж╛ржи: рж╕рж░рзНржмрж╢рзЗрж╖ ржХржорж┐ржЯ ржорзЗрж╕рзЗржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ
const newTitle = commits.data[commits.data.length - 1].commit.message.split('\n')[0];

// ржмрж┐ржХрж▓рзНржк: ржкрзНрж░ржержо ржХржорж┐ржЯ ржорзЗрж╕рзЗржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи
const newTitle = commits.data[0].commit.message.split('\n')[0];

// ржмрж┐ржХрж▓рзНржк: ржХрж╛рж╕рзНржЯржо ржлрж░ржорзНржпрж╛ржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи
const newTitle = `PR: ${commits.data[commits.data.length - 1].commit.message.split('\n')[0]}`;
```

### ржмрж░рзНржгржирж╛ ржлрж░ржорзНржпрж╛ржЯ ржХрж╛рж╕рзНржЯржорж╛ржЗржЬ
рзирзо ржиржорзНржмрж░ рж▓рж╛ржЗржирзЗ ржмрж░рзНржгржирж╛ ржЯрзЗржоржкрзНрж▓рзЗржЯ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзБржи:
```javascript
// ржмрж░рзНрждржорж╛ржи ржлрж░ржорзНржпрж╛ржЯ
const newBody = `### ЁЯУЭ Commit Summary:\n${fullCommitList}`;

// ржмрж┐ржХрж▓рзНржк ржлрж░ржорзНржпрж╛ржЯ
const newBody = `## ржХрж░рж╛ ржкрж░рж┐ржмрж░рзНрждржирж╕ржорзВрж╣:\n${fullCommitList}\n\n---\n*рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ рждрзИрж░рж┐ рж╕рж╛ржорж╛рж░рж┐*`;
const newBody = `**ржПржЗ ржкрж┐ржЖрж░рзЗрж░ ржХржорж┐ржЯрж╕ржорзВрж╣:**\n${fullCommitList}`;
```

### ржЕрждрж┐рж░рж┐ржХрзНржд рждржерзНржп ржпрзЛржЧ
ржЖрж░рзЛ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЕржирзНрждрж░рзНржнрзБржХрзНржд ржХрж░рждрзЗ рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржмрж╛ржбрж╝рж╛ржи:
```javascript
// ржХржорж┐ржЯ рж╕ржВржЦрзНржпрж╛ ржпрзЛржЧ ржХрж░рзБржи
const commitCount = commits.data.length;
const newBody = `### ЁЯУЭ ржХржорж┐ржЯ рж╕рж╛ржорж╛рж░рж┐ (${commitCount}ржЯрж┐ ржХржорж┐ржЯ):\n${fullCommitList}`;

// рж▓рзЗржЦржХржжрзЗрж░ рждржерзНржп ржпрзЛржЧ ржХрж░рзБржи
const authors = [...new Set(commits.data.map(commit => commit.commit.author.name))];
const authorList = authors.join(', ');
const newBody = `### ЁЯУЭ ржХржорж┐ржЯ рж╕рж╛ржорж╛рж░рж┐:\n${fullCommitList}\n\n**рж▓рзЗржЦржХржЧржг:** ${authorList}`;
```

## ЁЯУК ржЙржжрж╛рж╣рж░ржг ржЖржЙржЯржкрзБржЯ

### ржЖржЧрзЗ (ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓ ржкрж┐ржЖрж░):
- **ржЯрж╛ржЗржЯрзЗрж▓**: "Update feature"
- **ржмрж░рзНржгржирж╛**: *(ржЦрж╛рж▓рж┐)*

### ржкрж░рзЗ (рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ рждрзИрж░рж┐):
- **ржЯрж╛ржЗржЯрзЗрж▓**: "Fix user authentication bug"
- **ржмрж░рзНржгржирж╛**:
  ```
  ### ЁЯУЭ ржХржорж┐ржЯ рж╕рж╛ржорж╛рж░рж┐:
  - Add user validation middleware
  - Update authentication logic
  - Fix user authentication bug
  ```

## ЁЯФН рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржи

### рж╕рж╛ржзрж╛рж░ржг рж╕ржорж╕рзНржпрж╛

1. **ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ ржЯрзНрж░рж┐ржЧрж╛рж░ рж╣ржЪрзНржЫрзЗ ржирж╛**:
   - ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржлрж╛ржЗрж▓ржЯрж┐ `.github/workflows/` ржбрж┐рж░рзЗржХрзНржЯрж░рж┐рждрзЗ ржЖржЫрзЗ
   - ржЪрзЗржХ ржХрж░рзБржи ржлрж╛ржЗрж▓рзЗрж░ ржПржХрзНрж╕ржЯрзЗржирж╢ржи `.yml` ржмрж╛ `.yaml`
   - ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ рж╕рж┐ржиржЯрзНржпрж╛ржХрзНрж╕ рж╕ржарж┐ржХ ржХрж┐ржирж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рзБржи

2. **ржЕржирзБржорждрж┐ рждрзНрж░рзБржЯрж┐**:
   - ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ ржбрж┐ржлрж▓рзНржЯ `GITHUB_TOKEN` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржпрж╛рж░ ржпржерзЗрж╖рзНржЯ ржЕржирзБржорждрж┐ ржерж╛ржХрж╛ ржЙржЪрж┐ржд
   - ржкрзНрж░рж╛ржЗржнрзЗржЯ рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ, ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржЕрзНржпрж╛ржХрж╢ржирж╕ рж╕ржХрзНрж░рж┐ржпрж╝ ржЖржЫрзЗ

3. **рж╕рзНржХрзНрж░рж┐ржкрзНржЯ рждрзНрж░рзБржЯрж┐**:
   - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд рждрзНрж░рзБржЯрж┐ рж▓ржЧрзЗрж░ ржЬржирзНржп ржЖржкржирж╛рж░ рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐рж░ ржЕрзНржпрж╛ржХрж╢ржирж╕ ржЯрзНржпрж╛ржм ржЪрзЗржХ ржХрж░рзБржи
   - ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржкрж┐ржЖрж░рждрзЗ ржХржоржкржХрзНрж╖рзЗ ржПржХржЯрж┐ ржХржорж┐ржЯ ржЖржЫрзЗ

### ржбрж┐ржмрж╛ржЧрж┐ржВ

ржбрж┐ржмрж╛ржЧрж┐ржВ рждржерзНржп ржпрзЛржЧ ржХрж░рждрзЗ, рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзБржи:
```javascript
console.log(`ржкрж┐ржЖрж░ #${prNumber} ржкрзНрж░рж╕рзЗрж╕рж┐ржВ`);
console.log(`${commits.data.length}ржЯрж┐ ржХржорж┐ржЯ ржкрж╛ржУржпрж╝рж╛ ржЧрзЗржЫрзЗ`);
console.log('ржХржорж┐ржЯ ржорзЗрж╕рзЗржЬрж╕ржорзВрж╣:', commitTitles);
```

## ЁЯдЭ ржЕржмржжрж╛ржи

рж╕ржорж╕рзНржпрж╛ ржПржмржВ ржЙржирзНржирждрж┐рж░ ржЕржирзБрж░рзЛржз ржЬржорж╛ ржжрж┐рждрзЗ рж╕рзНржмрж╛ржЧрждржо!

## ЁЯУД рж▓рж╛ржЗрж╕рзЗржирзНрж╕

ржПржЗ ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ рж╢рж┐ржХрзНрж╖рж╛ржорзВрж▓ржХ ржПржмржВ ржмрзНржпржмрж╣рж╛рж░рж┐ржХ ржЙржжрзНржжрзЗрж╢рзНржпрзЗ ржпрзЗржоржи ржЖржЫрзЗ рждрзЗржоржирж┐ ржкрзНрж░ржжрж╛ржи ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред

## ЁЯФЧ рж╕ржВрж╢рзНрж▓рж┐рж╖рзНржЯ ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ

- **ржЕржЯрзЛ ржкрж┐ржЖрж░ рж▓рзЗржЦржХ ржЕрзНржпрж╛рж╕рж╛ржЗржи**: рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржкрж┐ржЖрж░ рж▓рзЗржЦржХ ржЕрзНржпрж╛рж╕рж╛ржЗржи ржХрж░рзБржи
- **ржЕржЯрзЛ рж░рж┐ржнрж┐ржЙржпрж╝рж╛рж░ ржЕрзНржпрж╛рж╕рж╛ржЗржи**: рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржкрж┐ржЖрж░рждрзЗ рж░рж┐ржнрж┐ржЙржпрж╝рж╛рж░ ржЕрзНржпрж╛рж╕рж╛ржЗржи ржХрж░рзБржи
- **ржбрж┐ржкрзНрж▓ржпрж╝ ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ**: ржмрж┐ржнрж┐ржирзНржи ржбрж┐ржкрзНрж▓ржпрж╝ржорзЗржирзНржЯ ржЕржЯрзЛржорзЗрж╢ржи ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ

---

*ржПржЗ ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ рж╕рзБрж╕ржВржЧржд ржкрж┐ржЖрж░ ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи ржмржЬрж╛ржпрж╝ рж░рж╛ржЦрждрзЗ ржПржмржВ рж╕рзНржкрж╖рзНржЯ ржХржорж┐ржЯ рж╕рж╛ржорж╛рж░рж┐ ржкрзНрж░ржжрж╛ржи ржХрж░рзЗ ржХрзЛржб рж░рж┐ржнрж┐ржЙрж░ ржжржХрзНрж╖рждрж╛ ржЙржирзНржиржд ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред*
